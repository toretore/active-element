<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>ActiveElement demo</title>
    <script type="text/javascript" src="../vendor/class.js"></script>
    <script type="text/javascript" src="../vendor/prototype.js"></script>
    <script type="text/javascript" src="../active_element.js"></script>
    <script type="text/javascript" src="app.js"></script>
    <script type="text/javascript" src="posts.js"></script>
    <script type="text/javascript" src="users.js"></script>
    <script type="text/javascript" src="comment_form.js"></script>
    <link href="style.css" rel="stylesheet" />
  </head>
  <body>

    <div id="container">

      <h1>ActiveElement</h1>

      <div id="description">
        <p>
          This is a demo page for ActiveElement. It contains a few elements that have been wrapped in JavaScript
          objects. A global object, <code>Demo</code> was created to contain objects that are specific to this
          page. Have a look at these files to see how ActiveElement is used in practice:
        </p>
        <ul>
          <li>Posts: <a href="posts.js">posts.js</a> - Object <code>Demo.posts</code></li>
          <li>Users: <a href="users.js">users.js</a> - Object <code>Demo.users</code></li>
          <li>Comment form: <a href="comment_form.js">comment_form.js</a> - Object <code>Demo.commentForm</code></li>
        </ul>
        <p>
          Open your Firebug to see log messages and mess around with things.
        </p>
      </div>
  
      <div id="first">
      
        <div class="items posts" id="posts">
          
          <h2 class="title">Posts</h2>

          <p>
            Try this in your Firebug console:
          </p>

          <pre>Demo.posts.first().get('title');
Demo.posts.first().set('link', 'http://www.google.com');
Demo.posts.first().rate(3.4);
Demo.posts.sabotage();</pre>

          <div class="item post" id="post_1">
            <h3 class="field title"><a href="/posts/1">I can't stand it</a></h3>
            <p class="field summary">
              I know you planned it
            </p>
            <div class="rating">
              <h4>Rate this post</h4>
              <ul>
                <li><a href="/posts/1/rate/1">1</a></li>
                <li><a href="/posts/1/rate/2">2</a></li>
                <li><a href="/posts/1/rate/3">3</a></li>
                <li><a href="/posts/1/rate/4">4</a></li>
                <li><a href="/posts/1/rate/5">5</a></li>
              </ul>
            </div>
          </div>

          <div class="item post" id="post_2">
            <h3 class="field title"><a href="/posts/2">I'm gonna set it straight</a></h3>
            <p class="field summary">
              This Watergate
            </p>
            <div class="rating">
              <h4>Rate this post</h4>
              <ul>
                <li><a href="/posts/2/rate/1">1</a></li>
                <li><a href="/posts/2/rate/2">2</a></li>
                <li><a href="/posts/2/rate/3">3</a></li>
                <li><a href="/posts/2/rate/4">4</a></li>
                <li><a href="/posts/2/rate/5">5</a></li>
              </ul>
            </div>
          </div>

          <div class="item post" id="post_3">
            <h3 class="field title"><a href="/posts/3">I can't stand rockin when I'm in here</a></h3>
            <p class="field summary">
              Because your crystal ball ain't so crystal clear
            </p>
            <div class="rating">
              <!-- This post has already been rated by the user -->
              <h4>Average rating</h4>
              <p class="average">4.6</p>
            </div>
          </div>

          <div class="item post" id="post_4">
            <h3 class="field title"><a href="/posts/4">So while you sit back and wonder why</a></h3>
            <p class="field summary">
              I've got this fuckin thorn in my side
            </p>
            <div class="rating">
              <h4>Rate this post</h4>
              <ul>
                <li><a href="/posts/4/rate/1">1</a></li>
                <li><a href="/posts/4/rate/2">2</a></li>
                <li><a href="/posts/4/rate/3">3</a></li>
                <li><a href="/posts/4/rate/4">4</a></li>
                <li><a href="/posts/4/rate/5">5</a></li>
              </ul>
            </div>
          </div>

          <div class="item post" id="post_5">
            <h3 class="field title"><a href="/posts/5">Oh my God, it's a mirage</a></h3>
            <p class="field summary">
              I'm telling y'all it's <em>sabotage</em>!!
            </p>
            <div class="rating">
              <h4>Rate this post</h4>
              <ul>
                <li><a href="/posts/5/rate/1">1</a></li>
                <li><a href="/posts/5/rate/2">2</a></li>
                <li><a href="/posts/5/rate/3">3</a></li>
                <li><a href="/posts/5/rate/4">4</a></li>
                <li><a href="/posts/5/rate/5">5</a></li>
              </ul>
            </div>
          </div>

        </div>

      </div>

      <div id="second">

        <h2>Users</h2>

        <p>
          Try:
        </p>

        <pre>Demo.users.first().get('firstname'); // "Robert"
Demo.users.first().get('name'); // "Robert Robertson"
Demo.users.first().set('name', 'Bobby Bobson');
Demo.users.first().get('lastname'); // "Bobson"
Demo.users.first().isAdmin(); // false
Demo.users.first().setAdmin(true);
//Click some users, then
Demo.users.getMarked().invoke('get', 'name');
Demo.users.getMarked().invoke('setMarked', false);</pre>

        <ul class="users" id="users">
          <li class="user" id="user_1">
            <a href="mailto:robert@robertson.com" class="field email">
              <span class="field firstname">Robert</span>
              <span class="field lastname">Robertson</span>
              (<span class="field username">robert</span>)
            </a>
          </li>
          <li class="user admin" id="user_2">
            <a href="mailto:smoky@hotmail.com" class="field email">
              <span class="field firstname">Smoky</span>
              <span class="field lastname">McPot</span>
              (<span class="field username">smokie</span>)
            </a>
          </li>
          <li class="user" id="user_3">
            <a href="mailto:test@test.com" class="field email">
              <span class="field firstname">Testy</span>
              <span class="field lastname">McTest</span>
              (<span class="field username">test</span>)
            </a>
          </li>
          <li class="user moderator" id="user_4">
            <a href="mailto:stinky@gmail.com" class="field email">
              <span class="field firstname">Stinky</span>
              <span class="field lastname">McSmellsalot</span>
              (<span class="field username">stinky</span>)
            </a>
          </li>
          <li class="user" id="user_5">
            <a href="mailto:booby@boobs.com" class="field email">
              <span class="field firstname">Booby</span>
              <span class="field lastname">McBoob</span>
              (<span class="field username">boobs</span>)
            </a>
          </li>
        </ul>


        <h2>Comment form</h2>

        <pre>Demo.commentForm.loudify();</pre>

        <form id="new_comment" class="new_comment" action="/comments" method="post">
          <p>
            <label for="comment_name">Name</label>
            <input type="text" name="comment[name]" id="comment_name" value="Enkidu" />
          </p>
          <p>
            <label for="comment_name">Comment</label>
            <textarea name="comment[body]" id="comment_body">My friend, we have cut down the towering Cedar whose top scrapes the sky. Make from it a door 72 cubits high, 24 cubits wide, one cubit thick, its fixture, its lower and upper pivots will be out of one piece.</textarea>
          </p>
          <p>
            <button type="submit">Submit</button>
          </p>
        </form>

      </div>

    </div>

  </body>
</html>
